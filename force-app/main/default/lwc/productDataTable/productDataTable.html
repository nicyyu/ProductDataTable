<template>
  <lightning-card>
    <div class="slds-var-p-around_small">
      <div>
        <span class="slds-form-element__label slds-text-title_bold slds-align_absolute-center">
          Infinite Loading
        </span>
      </div>
    </div>
    <div>
      <span class="slds-form-element__label slds-text-title_bold">
        Total Records: {totalNumberOfRows}
      </span>
    </div>
    <div>
      <span class="slds-form-element__label slds-text-title_bold">
        Displayed Records: {data.length}
      </span>
    </div>
    <lightning-button onclick={showSelected} label="Show Selected Rows"></lightning-button>
    <div style="height: 350px;" if:true={boolVisible}>
      <lightning-datatable 
        key-field="Id" 
        data={data} 
        columns={columns} 
        enable-infinite-loading 
        onloadmore={handleLoadMore} 
        selected-rows={preselectedRows}
        onrowselection={selectedRowHandler}
        load-more-offset="20">
      </lightning-datatable>
    </div>
    {loadMoreStatus}
    <div style="height: 350px;" if:false={boolVisible}>
      <lightning-datatable 
        key-field="Id" 
        data={selectedData} 
        columns={columns}  
        selected-rows={preselectedRows}
        onrowselection={selectedRowHandler}>
      </lightning-datatable>
    </div>
  </lightning-card>
</template>